<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Custom Gears - Loja</title>
  <style>
    body {
      background-color: #000;
      color: #fff;
      font-family: sans-serif;
    }
    .produto {
      border: 1px solid #fff;
      padding: 16px;
      margin: 16px;
    }
    select, button {
      margin-top: 8px;
      padding: 4px;
    }
    #cartCount {
      background-color: purple;
      border-radius: 8px;
      padding: 2px 8px;
      margin-left: 8px;
    }
  </style>
</head>
<body>

  <h1>Produtos</h1>
  <div id="produtosContainer"></div>

  <h2>Carrinho<span id="cartCount">0</span></h2>
  <ul id="carrinhoLista"></ul>
  <button onclick="finalizarCompra()">Finalizar Compra</button>

  <script>
    const produtos = [
      { id: 1, nome: 'Camiseta Custom Gears', preco: 49.90 },
      { id: 2, nome: 'Adesivo Reflectivo', preco: 9.90 },
      { id: 3, nome: 'Moletom Custom Gears', preco: 119.90 }
    ];

    const carrinho = [];

    function renderProducts() {
      const container = document.getElementById('produtosContainer');
      container.innerHTML = '';
      produtos.forEach(produto => {
        const div = document.createElement('div');
        div.className = 'produto';
        div.innerHTML = `
          <h3>${produto.nome}</h3>
          <p>R$ ${produto.preco.toFixed(2)}</p>
          <label>Cor:
            <select id="cor-${produto.id}">
              <option>Preto</option>
              <option>Branco</option>
              <option>Cinza</option>
              <option>Roxo</option>
            </select>
          </label><br>
          <label>Tamanho:
            <select id="tamanho-${produto.id}">
              <option>P</option>
              <option>M</option>
              <option>G</option>
              <option>GG</option>
              <option>XG</option>
            </select>
          </label><br>
          <button onclick="adicionarAoCarrinho(${produto.id})">Adicionar ao carrinho</button>
        `;
        container.appendChild(div);
      });
    }

    function adicionarAoCarrinho(id) {
      const produto = produtos.find(p => p.id === id);
      const cor = document.getElementById(`cor-${id}`).value;
      const tamanho = document.getElementById(`tamanho-${id}`).value;
      carrinho.push({ ...produto, cor, tamanho });
      renderCarrinho();
      updateCartCount();
    }

    function renderCarrinho() {
      const lista = document.getElementById('carrinhoLista');
      lista.innerHTML = '';
      carrinho.forEach((item, index) => {
        const li = document.createElement('li');
        li.innerText = `${item.nome} - ${item.cor} - ${item.tamanho} - R$ ${item.preco.toFixed(2)}`;
        lista.appendChild(li);
      });
    }

    function updateCartCount() {
      const count = carrinho.length;
      document.getElementById('cartCount').innerText = count;
    }

    function finalizarCompra() {
      if (carrinho.length === 0) {
        alert("Seu carrinho está vazio!");
        return;
      }

      let mensagem = "Olá! Gostaria de finalizar a compra com os seguintes itens:\n";
      carrinho.forEach(item => {
        mensagem += `- ${item.nome} (${item.cor}, ${item.tamanho}) - R$ ${item.preco.toFixed(2)}\n`;
      });

      const url = `https://wa.me/5541999737694?text=${encodeURIComponent(mensagem)}`;
      window.open(url, '_blank');
    }

    // Inicializar após o DOM estar carregado
    document.addEventListener('DOMContentLoaded', () => {
      renderProducts();
      updateCartCount();
    });
  </script>

</body>
</html>
